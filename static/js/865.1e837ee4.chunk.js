"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[865],{8865:(s,t,e)=>{e.r(t),e.d(t,{default:()=>k});var a=e(5043),r=e(3003),i=e(6662);const o="ProfileInfo_descriptionBlock__koz-B";var n=e(2784),u=e(579);const d=s=>{let[t,e]=(0,a.useState)(!1),[r,i]=(0,a.useState)(s.status);(0,a.useEffect)((()=>{i(s.status)}),[s.status]);return(0,u.jsxs)("div",{children:[!t&&(0,u.jsx)("div",{children:(0,u.jsx)("span",{onDoubleClick:()=>{e(!0)},children:s.status||"-------"})}),t&&(0,u.jsx)("div",{children:(0,u.jsx)("input",{onChange:s=>{i(s.currentTarget.value)},onBlur:()=>{e(!1),s.updateStatus(r)},autoFocus:!0,value:r,type:"text"})})]})},l=s=>s.profile?(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("img",{src:s.profile.photos.large,alt:""}),(0,u.jsx)(d,{status:s.status,updateStatus:s.updateStatus})]})}):(0,u.jsx)(n.A,{});var p=e(5977);const c="MyPosts_postsBlock__71-vS",h="MyPosts_posts__K6Er9",x="Post_item__BA5PW",j=s=>(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=18a8baedb51cd982584702a3204c6bc34471b8c7-11923369-images-thumbs&n=13",alt:""}),s.message,(0,u.jsx)("div",{children:(0,u.jsxs)("span",{children:["like(",s.likeCounts,")"]})})]});var m=e(5963);const f=s=>{let t=s.posts.map((s=>(0,u.jsx)(j,{message:s.message,likesCount:s.likesCount},s.id)));return console.log("Render"),(0,u.jsxs)("div",{className:c,children:[(0,u.jsx)("h3",{children:"my post"}),(0,u.jsx)("div",{children:(0,u.jsx)(v,{onSubmit:t=>{s.addPost(t.newPostText)}})}),(0,u.jsx)("div",{className:h,children:t})]})},v=(0,e(3842).A)({form:"AddNewPostForm"})((s=>(0,u.jsxs)("form",{onSubmit:s.handleSubmit,action:"",children:[(0,u.jsx)("div",{children:(0,u.jsx)(m.A,{component:"textarea",name:"newPostText"})}),(0,u.jsx)("button",{children:"Add post"})]}))),g=a.memo(f),P=(0,r.Ng)((s=>({posts:s.profilePage.posts})),(s=>({addPost:t=>{s((0,p.oL)(t))}})))(g),S=s=>(0,u.jsxs)("div",{children:[(0,u.jsx)(l,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,u.jsx)(P,{})]});var _=e(3923);class b extends a.Component{componentDidMount(){let s=this.props.params.profileId;s||(s=this.props.authorizedUserId),this.props.getUsersProfile(s),this.props.getUsersStatus(s)}render(){return(0,u.jsx)("div",{children:(0,u.jsx)(S,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})})}}const k=(0,_.Zz)((0,r.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth})),{setUserProfile:p.p,getUsersProfile:p.ub,getUsersStatus:p.Ti,updateStatus:p.yB}),(function(s){return function(t){const e=(0,i.g)();return(0,u.jsx)(s,{...t,params:e})}}))(b)}}]);
//# sourceMappingURL=865.1e837ee4.chunk.js.map